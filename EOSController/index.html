<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <body>
    <h1>Welcome!</h1>

    <canvas id="canvas"></canvas>
    <script src="/build/qrcode.min.js"></script>
    <script>
      // You can also require other files to run in this process

      var os = require('os');

      var interfaces = os.networkInterfaces();
      var addresses = [];
      for (var k in interfaces) {
          for (var k2 in interfaces[k]) {
              var address = interfaces[k][k2];
              if (address.family === 'IPv4' && !address.internal) {
                  addresses.push(address.address);
              }
          }
      }
      var qrcode = addresses
      qrcode="http://"+qrcode+":8084"
      var QRCode = require('qrcode')
      var canvas = document.getElementById('canvas')

      QRCode.toCanvas(canvas, qrcode, function (error) {
        if (error) console.error(error)
        console.log('success!');
      })

      
    </script>
  </body>
</html>
